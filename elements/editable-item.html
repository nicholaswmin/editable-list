<dom-module id="editable-item">
  <template>
    <style is="custom-style" include="iron-flex iron-flex-alignment iron-flex-factors">
      :host {
        display: block;
      }

      button {
        color: red;
      }

      .actions {
        text-align: right;
        padding-right: 20px;
      }

      .del-btn {
        color: #F44336;
      }
    </style>
    <slot></slot>
    <div class="flex">
      <div class="actions">
        <slot name="row-actions"></slot>
        <paper-icon-button class="del-btn" icon="clear" on-click="deletePressed"></paper-icon-button>
      </div>
    </div>
  </template>

  <script>
    class EditableItem extends Polymer.Element {

      static get is() {
        return "editable-item"
      }

      static get config() {
        return {
          properties: {
            item: {
              type: Object,
              notify: true
            }
          }
        }
      }

      connectedCallback() {
        super.connectedCallback();
      }

      deletePressed() {
        this.parentElement.dispatchEvent(new CustomEvent("delete-row", {detail: this.item.id}), {bubbles: false});
      }
    }
    // Register custom element definition using standard platform API
    customElements.define(EditableItem.is, EditableItem);
  </script>
</dom-module>
